<sap:ActivityDesigner x:Class="Dev2.Studio.ActivityDesigners.DsfUniqueActivityDesigner"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sap="clr-namespace:System.Activities.Presentation;assembly=System.Activities.Presentation"    
    xmlns:dev2="clr-namespace:Dev2.UI"
    xmlns:attachedProperties="clr-namespace:Dev2.Studio.AppResources.AttachedProperties"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
    xmlns:local="clr-namespace:Dev2.Studio.AppResources.Behaviors"
                      xmlns:ui="clr-namespace:Dev2.UI;assembly=Dev2.Intellisense"
                      xmlns:attachedProperties2="clr-namespace:Dev2.Studio.AppResources.AttachedProperties;assembly=Dev2.Activities.Designers"
                      Width="250"
    PreviewMouseDoubleClick="DsfUniqueActivityDesigner_OnPreviewMouseDoubleClick"
    MouseEnter="DsfUniqueActivityDesigner_OnMouseEnter"
    MouseLeave="DsfUniqueActivityDesigner_OnMouseLeave"
    >
    <sap:ActivityDesigner.Icon>
        <DrawingBrush>
            <DrawingBrush.Drawing>
                <ImageDrawing>
                    <ImageDrawing.Rect>
                        <Rect Location="0,0" Size="16,16" ></Rect>
                    </ImageDrawing.Rect>
                    <ImageDrawing.ImageSource>
                        <BitmapImage UriSource="pack://application:,,,/Warewolf Studio;component/Images/ToolUniqueRecord-32.png" ></BitmapImage>
                    </ImageDrawing.ImageSource>
                </ImageDrawing>
            </DrawingBrush.Drawing>
        </DrawingBrush>
    </sap:ActivityDesigner.Icon>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <Label x:Name="lblInFields" 
               Grid.Column="0" 
               Grid.Row="0" 
               Content="In Field(s)">            
        </Label>
        <ui:IntellisenseTextBox AllowUserInsertLine="False" x:Name="txtInFields" 
                                  DefaultText="[[Rec().F1]],[[Rec().F2]]" 
                                  Text="{Binding ModelItem.InFields,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Grid.Column="1" Grid.Row="0"  
                                  Margin="0,2,0,2"
                                  FilterType="RecordsetFields"
                                  attachedProperties2:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <MultiBinding StringFormat="UI_{0}_txtInFields_AutoID">
                    <Binding Path="ModelItem.AutomationID"/>
                </MultiBinding>
            </AutomationProperties.AutomationId>
        </ui:IntellisenseTextBox>

        <Label x:Name="lblReturnFields"
               Grid.Column="0"
               Grid.Row="1"
               Content="Return Fields">            
        </Label>
        <ui:IntellisenseTextBox AllowUserInsertLine="False" x:Name="txtReturnFields" 
                                  DefaultText="[[Rec().F3]]" 
                                  Text="{Binding ModelItem.ResultFields,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Grid.Column="1" Grid.Row="1"
                                  FilterType="RecordsetFields"
                                  Margin="0,2,0,2"
                                  attachedProperties2:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <MultiBinding StringFormat="UI_{0}_txtReturnFields_AutoID">
                    <Binding Path="ModelItem.AutomationID"/>
                </MultiBinding>
            </AutomationProperties.AutomationId>
        </ui:IntellisenseTextBox>

        <Label x:Name="lblResults" 
               Grid.Column="0"
               Grid.Row="2" 
               Content="Results">
        </Label>
        <ui:IntellisenseTextBox AllowUserInsertLine="False" x:Name="txtResults" 
                                  DefaultText="[[New().F1]]" 
                                  Text="{Binding ModelItem.Result,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Grid.Column="1" Grid.Row="2"
                                  WrapInBrackets="True"
                                  Margin="0,2,0,2"
                                  attachedProperties2:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <MultiBinding StringFormat="UI_{0}_txtResults_AutoID">
                    <Binding Path="ModelItem.AutomationID"/>
                </MultiBinding>
            </AutomationProperties.AutomationId>
        </ui:IntellisenseTextBox>
        
    </Grid>
</sap:ActivityDesigner>
