<sap:ActivityDesigner x:Class="Unlimited.Applications.BusinessDesignStudio.Activities.DsfSortRecordsActivityDesigner"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sap="clr-namespace:System.Activities.Presentation;assembly=System.Activities.Presentation"
    xmlns:sapv="clr-namespace:System.Activities.Presentation.View;assembly=System.Activities.Presentation"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"                     
    xmlns:local="clr-namespace:Dev2.Studio.AppResources.Behaviors"
    xmlns:bds="clr-namespace:Unlimited.Applications.BusinessDesignStudio.Activities"
    xmlns:Dev2="clr-namespace:Dev2.UI"
    xmlns:IIDev2="clr-namespace:Dev2.Studio.InterfaceImplementors"
    xmlns:attachedProperties="clr-namespace:Dev2.Studio.AppResources.AttachedProperties"
    MaxWidth="220"
    Width="220"
                      PreviewMouseDoubleClick="DsfSortRecordsActivityDesigner_OnPreviewMouseDoubleClick"
                      MouseEnter="DsfSortRecordsActivityDesigner_OnMouseEnter"
                      MouseLeave="DsfSortRecordsActivityDesigner_OnMouseLeave">
    <sap:ActivityDesigner.Resources>
        <ResourceDictionary Source="pack://application:,,,/Warewolf Studio;component/Resources/ResourceDictionary.xaml"></ResourceDictionary>
    </sap:ActivityDesigner.Resources>
    <sap:ActivityDesigner.Icon>
        <DrawingBrush>
            <DrawingBrush.Drawing>
                <ImageDrawing>
                    <ImageDrawing.Rect>
                        <Rect Location="0,0" Size="16,16" ></Rect>
                    </ImageDrawing.Rect>
                    <ImageDrawing.ImageSource>
                        <BitmapImage UriSource="pack://application:,,,/Warewolf Studio;component/Images/ToolSortRecords-32.png" ></BitmapImage>
                    </ImageDrawing.ImageSource>
                </ImageDrawing>
            </DrawingBrush.Drawing>
        </DrawingBrush>
    </sap:ActivityDesigner.Icon>
    <StackPanel>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="62*" />
                <ColumnDefinition Width="124*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Label Content="Sort Field" Grid.Column="0" Grid.Row="1" />
            <Dev2:IntellisenseTextBox x:Name="Sorttxt" DefaultText="[[Recordset().Field]]" FilterType="RecordsetFields" WrapInBrackets="True" Grid.Column="1" Grid.Row="1" Text="{Binding Path=ModelItem.SortField, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Margin="0,2,1,2" MinWidth="101"
                                      attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
                <AutomationProperties.AutomationId>
                    <MultiBinding StringFormat="UI_{0}_SortFieldtxt_AutoID">
                        <Binding Path="ModelItem.AutomationID"/>
                    </MultiBinding>
                </AutomationProperties.AutomationId>                
            </Dev2:IntellisenseTextBox>
            <Label Content="Sort Order" Grid.Column="0" Grid.Row="2"/>
            <ComboBox x:Name="Ordercbx" SelectedValue="{Binding Path=ModelItem.SelectedSort, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                      Style="{StaticResource ActivityComboBoxStyle}"
                      IsEditable="False" Loaded="CbxLoad" Grid.Row="2" Grid.Column="1" Margin="0,2,1,2"
                      attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
                <AutomationProperties.AutomationId>
                    <MultiBinding StringFormat="UI_{0}_SortOrdercbx_AutoID">
                        <Binding Path="ModelItem.AutomationID"/>
                    </MultiBinding>
                </AutomationProperties.AutomationId>
                <ComboBox.Resources>
                    <Style TargetType="ComboBoxItem">
                        <Setter Property="AutomationProperties.AutomationId" Value="{Binding Converter={StaticResource StringToAutomationIdConverter}}"/>
                    </Style>
                </ComboBox.Resources>
            </ComboBox>
        </Grid>
    </StackPanel>
</sap:ActivityDesigner>
