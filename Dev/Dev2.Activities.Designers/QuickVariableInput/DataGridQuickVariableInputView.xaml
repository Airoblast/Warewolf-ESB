<designers:ActivityTemplate x:Class="Dev2.Studio.Views.UserInterfaceBuilder.DataGridQuickVariableInputView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:designers="clr-namespace:Dev2.Activities.Designers"
                            xmlns:help="clr-namespace:Dev2.Activities.Help"
             mc:Ignorable="d" 
             Background="White" HorizontalAlignment="Center" VerticalAlignment="Center"
             MinHeight="300"
             MinWidth="350" MaxWidth="680"
             d:DesignHeight="195">
    <designers:ActivityTemplate.InputBindings>
        <KeyBinding Command="{Binding CancelCommand}" Key="Escape"  />
        <KeyBinding Command="{Binding AddCommand}" Key="Enter" />
    </designers:ActivityTemplate.InputBindings>
    <Grid DataContext="{Binding QuickVariableInputViewModel}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>


        <!--<Border Width="300" Grid.Row="0" BorderBrush="{Binding (local:ActivityDesignerAugmentationBehavior.TitleBarBorderBrush), Mode=OneWay, RelativeSource={RelativeSource Self}}" BorderThickness="1,1,1,1" >-->
        <Grid Margin="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="80"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="34"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="25"></RowDefinition>
                <RowDefinition Height="25"></RowDefinition>
                <RowDefinition Height="25"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="28"/>
                    <RowDefinition Height="6"/>
                </Grid.RowDefinitions>
                <Label Content="Quick Variable Input" Grid.Row="0" Style="{StaticResource Dev2HeadingLabelStyle}"/>
                <Rectangle Fill="LightGray" Margin="1" Height="1" Grid.Row="1"/>
            </Grid>

            <Label Grid.Column="0" Grid.Row="1" Content="Variable List :"></Label>
            <TextBox x:Name="TxtVariableList" Grid.Column="1" Grid.Row="1" 
                     Style="{StaticResource Dev2TextboxStyle}" Height="57" 
                     TextChanged="TextBoxBase_OnTextChanged" AcceptsReturn="True" 
                     Text="{Binding VariableListString}" VerticalAlignment="Top" 
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     VerticalScrollBarVisibility="Auto"
                     Width="260"
                     MaxWidth="300"
                     TextWrapping="Wrap"
                     help:HelpText.Text="{x:Static help:HelpTextResources.QuickVariableVariableListHelpText}"></TextBox>

            <Label Grid.Column="0" Grid.Row="2" Content="Split List On :"></Label>
            <Grid Grid.Column="1" Grid.Row="2" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>
                              
                
                <ComboBox  x:Name="SplitTypeCbx" 
                           Grid.Column="0" Grid.Row="0"
                           Margin="1,0,3,0" 
                           help:HelpText.Text="{x:Static help:HelpTextResources.QuickVariableSplitAndAtHelpText}"
                           Style="{StaticResource ActivityComboBoxStyle}" 
                           SelectionChanged="Selector_OnSelectionChanged"
                           ItemsSource="{Binding SplitTypeList}" 
                           SelectedValue="{Binding SplitType}" VerticalAlignment="Bottom"/>
                <TextBox x:Name="SplitTokenTxt" 
                         Grid.Column="1" Grid.Row="1"                          
                         help:HelpText.Text="{x:Static help:HelpTextResources.QuickVariableSplitAndAtHelpText}"
                         Style="{StaticResource Dev2TextboxStyle}" 
                         TextChanged="TextBoxBase_OnTextChanged" 
                         Text="{Binding SplitToken}"/>
            </Grid>

            <Label Grid.Column="0" Grid.Row="3" Content="Prefix  With:"></Label>
            <TextBox Grid.Column="1" Grid.Row="3" Style="{StaticResource Dev2TextboxStyle}" 
                     TextChanged="TextBoxBase_OnTextChanged" Text="{Binding Prefix}" 
                      help:HelpText.Text="{x:Static help:HelpTextResources.QuickVariablePrefixWithHelpText}">                
            </TextBox>

            <Label Grid.Column="0" Grid.Row="4" Content="Suffix With :"></Label>
            <TextBox Grid.Column="1" Grid.Row="4" 
                     Style="{StaticResource Dev2TextboxStyle}" 
                     TextChanged="TextBoxBase_OnTextChanged" 
                     Text="{Binding Suffix}" 
                     help:HelpText.Text="{x:Static help:HelpTextResources.QuickVariableSuffixWithHelpText}"/>           

            <StackPanel Grid.Column="1" Grid.Row="5" Orientation="Horizontal">
                <RadioButton Content="Append" IsChecked="True" 
                             VerticalAlignment="Center" GroupName="AppendGroup" Margin="5" 
                             help:HelpText.Text="{x:Static help:HelpTextResources.QuickVariableAppendHelpText}"></RadioButton>

                <RadioButton Content="Replace" IsChecked="{Binding Overwrite}" 
                             VerticalAlignment="Center" GroupName="AppendGroup" Margin="5" 
                             help:HelpText.Text="{x:Static help:HelpTextResources.QuickVariableReplaceHelpText}"></RadioButton>
            </StackPanel>

            <StackPanel Grid.Column="0" Grid.Row="6" Orientation="Horizontal" VerticalAlignment="Center">
                <Button HorizontalAlignment="Left" x:Name="QuickVariableInputPreviewBtn" Content="Preview" IsEnabled="False" 
                        Command="{Binding PreviewCommand}" Margin="2,0,2,0"></Button>
            </StackPanel>

            <StackPanel Grid.Column="1" Grid.Row="6" HorizontalAlignment="Right" Orientation="Horizontal" VerticalAlignment="Center">
                <!--<Image Source="{Binding Status,Converter={StaticResource ErrorTypeToImageConverter}}" Height="15" Width="15" VerticalAlignment="Center"/>-->
                <Button x:Name="QuickVariableInputAddBtn"  Content="Add" 
                        IsEnabled="{Binding CanAdd, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                        Command="{Binding AddCommand}" Margin="2,0,2,0"></Button>
                <Button x:Name="QuickVariableInputCancelBtn" Content="Cancel" 
                        Command="{Binding CancelCommand}" Margin="2,0,2,0"></Button>
            </StackPanel>
        </Grid>

        <!--</Border>-->
        <Grid Margin="0,-1,0,0" Grid.Row="1" Width="300px" HorizontalAlignment="Stretch"
                Visibility="{Binding ShowPreview, Converter={StaticResource BoolToVisConverter}}">
            <Border Background="White" Width="300px" 
                     BorderThickness="1,1,1,1">
                <Grid Margin="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="2"></RowDefinition>
                        <RowDefinition Height="Auto"></RowDefinition>
                    </Grid.RowDefinitions>
                    <TextBlock TextWrapping="Wrap" IsEnabled="False" Grid.Row="1" 
                               Foreground="{StaticResource ValidationErrorElement}"                              
                               ScrollViewer.VerticalScrollBarVisibility="Auto"                                
                               Width="288" Text="{Binding PreviewText}"></TextBlock>
                </Grid>
            </Border>
        </Grid>

    </Grid>
</designers:ActivityTemplate>
