<sap:ActivityDesigner x:Class="Dev2.Studio.ActivityDesigners.DsfRandomActivityDesigner"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sap="clr-namespace:System.Activities.Presentation;assembly=System.Activities.Presentation"    
    xmlns:dev2="clr-namespace:Dev2.UI"
    xmlns:attachedProperties="clr-namespace:Dev2.Studio.AppResources.AttachedProperties"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
    xmlns:local="clr-namespace:Dev2.Studio.AppResources.Behaviors"
    MaxWidth="220"
    >
    <sap:ActivityDesigner.Icon>
        <DrawingBrush>
            <DrawingBrush.Drawing>
                <ImageDrawing>
                    <ImageDrawing.Rect>
                        <Rect Location="0,0" Size="16,16" ></Rect>
                    </ImageDrawing.Rect>
                    <ImageDrawing.ImageSource>
                        <BitmapImage UriSource="pack://application:,,,/Warewolf Studio;component/Images/ToolRandom-32.png" ></BitmapImage>
                    </ImageDrawing.ImageSource>
                </ImageDrawing>
            </DrawingBrush.Drawing>
        </DrawingBrush>
    </sap:ActivityDesigner.Icon>
    <sap:ActivityDesigner.ContextMenu>
        <ContextMenu>
            <MenuItem Header="Create AutomationID">
                <i:Interaction.Behaviors>
                    <local:AutomationIdCreationBehaviour AutomationIdCreation="{Binding Path=ModelItem}" />
                </i:Interaction.Behaviors>
            </MenuItem>
        </ContextMenu>
    </sap:ActivityDesigner.ContextMenu>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="50"/>
            <ColumnDefinition Width="58"/>
            <ColumnDefinition Width="15"/>
            <ColumnDefinition Width="58"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Label Grid.Column="0" Grid.Row="0" x:Name="lblRandomType" Content="Type"/>
        <ComboBox Style ="{StaticResource Dev2ComboBoxStyle}"                
                  x:Name="CbxRandomType" 
                  Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="3" 
                  SelectedValue="{Binding ModelItem.RandomType,Converter={StaticResource EnumDiscriptionToStringConverter},Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                  Text="{Binding ModelItem.RandomType,Converter={StaticResource EnumDiscriptionToStringConverter},Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                  SelectionChanged="CbxRandomType_OnSelectionChanged"
                  Loaded="CbxRandomType_OnLoaded"                  
                  attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <MultiBinding StringFormat="UI_{0}_Wherecbx_AutoID">
                    <Binding Path="ModelItem.AutomationID"/>
                </MultiBinding>
            </AutomationProperties.AutomationId>
        </ComboBox>
        
        <Label Grid.Column="0" Grid.Row="1" x:Name="lblLength" Content="Range"/>
        <dev2:IntellisenseTextBox x:Name="txtFrom" 
                                  DefaultText="From" 
                                  Text="{Binding ModelItem.From,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Grid.Column="1" Grid.Row="1" 
                                  Margin="0,2,1,2"
                                  attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <MultiBinding StringFormat="UI_{0}_Lengthstxt_AutoID">
                    <Binding Path="ModelItem.AutomationID"/>
                </MultiBinding>
            </AutomationProperties.AutomationId>
        </dev2:IntellisenseTextBox>

        <Label Grid.Column="2" Grid.Row="1" x:Name="lblTo" Content="-"/>
        <dev2:IntellisenseTextBox x:Name="txtLength" 
                                  DefaultText="Length" 
                                  Text="{Binding ModelItem.Length,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Grid.Column="3" Grid.Row="1" 
                                  Margin="0,2,1,2"
                                  attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <MultiBinding StringFormat="UI_{0}_Lengthstxt_AutoID">
                    <Binding Path="ModelItem.AutomationID"/>
                </MultiBinding>
            </AutomationProperties.AutomationId>
        </dev2:IntellisenseTextBox>

        <dev2:IntellisenseTextBox x:Name="txtTo" 
                                  DefaultText="To" 
                                  Text="{Binding ModelItem.To,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Grid.Column="3" Grid.Row="1" 
                                  Margin="0,2,1,2"
                                  attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <MultiBinding StringFormat="UI_{0}_Lengthstxt_AutoID">
                    <Binding Path="ModelItem.AutomationID"/>
                </MultiBinding>
            </AutomationProperties.AutomationId>
        </dev2:IntellisenseTextBox>


        <Label x:Name="lblResult" Grid.Row="2" Grid.Column="0" Content="Result"/>
        <dev2:IntellisenseTextBox x:Name="txtResult" DefaultText="[[Result]]" WrapInBrackets="True"
                                  Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" 
                                  Text="{Binding ModelItem.Result,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  Margin="0,2,1,2"
                                  attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <MultiBinding StringFormat="UI_{0}_Resulttxt_AutoID">
                    <Binding Path="ModelItem.AutomationID"/>
                </MultiBinding>
            </AutomationProperties.AutomationId>
        </dev2:IntellisenseTextBox>
    </Grid>
</sap:ActivityDesigner>
