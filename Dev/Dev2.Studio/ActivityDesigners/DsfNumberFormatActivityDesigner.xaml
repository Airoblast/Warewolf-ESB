<sap:ActivityDesigner x:Class="Unlimited.Applications.BusinessDesignStudio.Activities.DsfNumberFormatActivityDesigner"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sap="clr-namespace:System.Activities.Presentation;assembly=System.Activities.Presentation"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"                     
    xmlns:local="clr-namespace:Dev2.Studio.AppResources.Behaviors"
    xmlns:dev2="clr-namespace:Dev2.UI"
    x:Name="NumberFormatActivityDesigner"
    xmlns:attachedProperties="clr-namespace:Dev2.Studio.AppResources.AttachedProperties">
    <sap:ActivityDesigner.ContextMenu>
        <ContextMenu>
            <MenuItem Header="Create AutomationID">
                <i:Interaction.Behaviors>
                    <local:AutomationIdCreationBehaviour AutomationIdCreation="{Binding Path=ModelItem}" />
                </i:Interaction.Behaviors>
            </MenuItem>
        </ContextMenu>
    </sap:ActivityDesigner.ContextMenu>
    <sap:ActivityDesigner.Icon>
        <DrawingBrush>
            <DrawingBrush.Drawing>
                <ImageDrawing>
                    <ImageDrawing.Rect>
                        <Rect Location="0,0" Size="16,16" ></Rect>
                    </ImageDrawing.Rect>
                    <ImageDrawing.ImageSource>
                        <BitmapImage UriSource="pack://application:,,,/Dev2.Studio;component/Images/FormatNumber.png" ></BitmapImage>
                    </ImageDrawing.ImageSource>
                </ImageDrawing>
            </DrawingBrush.Drawing>
        </DrawingBrush>
    </sap:ActivityDesigner.Icon>    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="65"/>
            <ColumnDefinition Width="75"/>
            <ColumnDefinition Width="45"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition/>
            <RowDefinition/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        
        <Label Content="Number" Name="LblNumber" Grid.Column="0" Grid.Row="0"/>
        <dev2:IntellisenseTextBox Grid.Column="1" Grid.Row="0" Grid.ColumnSpan="2"  x:Name="TxtNumber" DefaultText="Whole or decimal" FilterType="All"  
                                  WrapInBrackets="False" Text="{Binding Path=ModelItem.Expression, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  Margin="0,2,1,2" HorizontalAlignment="Stretch" attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <Binding StringFormat="UI_{0}_Inputtxt_AutoID" Path="ModelItem.AutomationID"/>
            </AutomationProperties.AutomationId>
        </dev2:IntellisenseTextBox>

        <Label Content="Rounding" Name="LblAddTime" Grid.Column="0" Grid.Row="1"/>
        <ComboBox Style ="{StaticResource Dev2ComboBoxStyle}" x:Name="CboRounding" ItemsSource="{Binding RoundingTypes, ElementName=NumberFormatActivityDesigner}"
                  Grid.Column="1" Grid.Row="1" Width="Auto" attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True"
                  SelectedValue="{Binding Path=ModelItem.RoundingType,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
            <AutomationProperties.AutomationId>
                <Binding StringFormat="UI_{0}_AddTimeTypecbx_AutoID" Path="ModelItem.AutomationID"/>
            </AutomationProperties.AutomationId>
        </ComboBox>
        <dev2:IntellisenseTextBox Grid.Column="2" Grid.Row="1" Grid.ColumnSpan="2"  x:Name="TxtRounding" FilterType="All"  
                                  WrapInBrackets="False" Text="{Binding Path=ModelItem.RoundingDecimalPlaces, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Margin="0,2,1,2" HorizontalAlignment="Stretch" attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True"
                                  IsEnabled="{Binding ModelItem.RoundingType, Mode=OneWay, Converter={StaticResource EnumToBoolConverterenRoundingType}}">
            <AutomationProperties.AutomationId>
                <Binding StringFormat="UI_{0}_Inputtxt_AutoID" Path="ModelItem.AutomationID"/>
            </AutomationProperties.AutomationId>
        </dev2:IntellisenseTextBox>        
        <!--<TextBox x:Name="TxtRounding" Text="{Binding ModelItem.RoundingDecimalPlaces,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                 Grid.Column="2" Grid.Row="1" Margin="0,2,1,2" IsEnabled="{Binding ModelItem.RoundingType, Mode=OneWay, Converter={StaticResource EnumToBoolConverterenRoundingType}}">
            <AutomationProperties.AutomationId>
                <Binding StringFormat="UI_{0}_AddTimeTypecbx_AutoID" Path="ModelItem.AutomationID"/>
            </AutomationProperties.AutomationId>            
        </TextBox>-->

        <Label Content="Decimals to show" Name="LblDecimalsToShow" Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2"/>
        <dev2:IntellisenseTextBox Grid.Column="2" Grid.Row="2" x:Name="TxtDecimalsToShow" FilterType="All"  
                                  WrapInBrackets="False" Text="{Binding Path=ModelItem.DecimalPlacesToShow, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Margin="0,2,1,2" HorizontalAlignment="Stretch" attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <Binding StringFormat="UI_{0}_Inputtxt_AutoID" Path="ModelItem.AutomationID"/>
            </AutomationProperties.AutomationId>
        </dev2:IntellisenseTextBox>        
        <!--<TextBox x:Name="TxtDecimalsToShow" Text="{Binding ModelItem.DecimalPlacesToShow,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                 Grid.Column="2" Grid.Row="2" Grid.ColumnSpan="2" Margin="0,2,1,2">
            <AutomationProperties.AutomationId>
                <Binding StringFormat="UI_{0}_AddTimeTypecbx_AutoID" Path="ModelItem.AutomationID"/>
            </AutomationProperties.AutomationId>
        </TextBox>-->

        <Label Content="Result" Name="LblResult" Grid.Column="0" Grid.Row="3"/>
        <dev2:IntellisenseTextBox Grid.Column="1" Grid.Row="3" Grid.ColumnSpan="2"  x:Name="TxtResult" DefaultText="[[Result]]" FilterType="All"  
                                  Text="{Binding Path=ModelItem.Result, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  Margin="0,2,1,2" HorizontalAlignment="Stretch" attachedProperties:WizardEngineAttachedProperties.DontOpenWizard="True">
            <AutomationProperties.AutomationId>
                <Binding StringFormat="UI_{0}_Inputtxt_AutoID" Path="ModelItem.AutomationID"/>
            </AutomationProperties.AutomationId>
        </dev2:IntellisenseTextBox>
    </Grid>
</sap:ActivityDesigner>
