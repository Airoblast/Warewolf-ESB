<ribbon:RibbonWindow
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:ribbon="http://schemas.microsoft.com/winfx/2006/xaml/presentation/ribbon"
                     xmlns:bdsviews="clr-namespace:Unlimited.Applications.BusinessDesignStudio.Views"
                     xmlns:igDock="http://infragistics.com/DockManager"
                     xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                     xmlns:local="clr-namespace:Dev2.Studio.AppResources.Behaviors"
                     xmlns:igExtensions="clr-namespace:Dev2.Studio.Dock"
                     xmlns:cal="clr-namespace:Caliburn.Micro;assembly=Caliburn.Micro"
                     xmlns:dataList="clr-namespace:Dev2.Studio.Views.DataList"
                     xmlns:explorer="clr-namespace:Dev2.Studio.Views.Explorer"
                     xmlns:dev2RibbonApplicationMenu="clr-namespace:Dev2.Studio.RibbonControl"
                     xmlns:customControls="clr-namespace:Dev2.Studio.Core.CustomControls;assembly=Dev2.Studio.Core"
                     xmlns:docking="clr-namespace:Dev2.Util.Behavior.Docking;assembly=Dev2.Util"
                     x:Class="Dev2.Studio.Views.MainView"
                     WindowState="Maximized"
                     Title="{Binding DisplayName}"
                     Icon="pack://application:,,,/Warewolf Studio;component/Warewolf.ico"
                     x:Name="MainViewWindow" Opacity="1">
	<ribbon:RibbonWindow.Resources>
		<Storyboard x:Key="OnLoaded">            
			    <DoubleAnimation 
                Storyboard.TargetName="LayoutRoot"
                Storyboard.TargetProperty="(Grid.Opacity)"
                From="0.0" To="1.0" Duration="0:0:0.3" />
            <DoubleAnimation 
            Storyboard.TargetName="LayoutRoot"
            Storyboard.TargetProperty="RenderTransform.Children[0].ScaleX"
            From="0.8" To="1" Duration="0:0:0.3" />
            <DoubleAnimation 
            Storyboard.TargetName="LayoutRoot"
            Storyboard.TargetProperty="RenderTransform.Children[0].ScaleY"
            From="0.8" To="1" Duration="0:0:0.3" />
        </Storyboard>
	</ribbon:RibbonWindow.Resources>
	<ribbon:RibbonWindow.Triggers>
		<EventTrigger RoutedEvent="FrameworkElement.Loaded">
			<BeginStoryboard Storyboard="{StaticResource OnLoaded}"/>
		</EventTrigger>
	</ribbon:RibbonWindow.Triggers>                   
    <ribbon:RibbonWindow.InputBindings>
        <!--<KeyBinding Command="{Binding Path=NewResourceCommand}" Key="N" Modifiers="Control" />
        <KeyBinding Command="{Binding Path=ExitCommand}" Key="F4" Modifiers="Alt" />
        <KeyBinding Command="{Binding Path=SaveCommand}" Key="F6" />        
        <KeyBinding Command="{Binding Path=EditCommand}" Key="E" Modifiers="Control" />-->
        <KeyBinding Command="{Binding ActiveItem.DebugCommand}" Key="F5" />
        
        <KeyBinding Command="{Binding NewResourceCommand}" CommandParameter="Source" Key="C" Modifiers="Alt" />
        <KeyBinding Command="{Binding NewResourceCommand}" CommandParameter="Service" Key="N" Modifiers="Alt" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="B" Modifiers="Alt" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="S" Modifiers="Alt" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="A" Modifiers="Alt" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="L" Modifiers="Alt" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="W" Modifiers="Alt" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="H" Modifiers="Alt" />
        <!-- <KeyBinding Command="{Binding Path=NotImplementedCommand}" Key="U" Modifiers="Alt" /> -->
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="P" Modifiers="Alt" />
        <KeyBinding Command="{Binding SettingsCommand}" Key="T" Modifiers="Alt" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="A" Modifiers="Alt" />
        <KeyBinding Command="{Binding StartFeedbackCommand}" Key="F" Modifiers="Alt" />
        <!--KeyBinding Command="{Binding Path=ThrowExceptionCommand}" Key="E" Modifiers="Alt" /-->

        <KeyBinding Command="{Binding ActiveItem.SaveCommand}" Key="S" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding NewResourceCommand}" CommandParameter="Workflow" Key="W" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding ActiveItem.RunCommand}" Key="R" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding DeployCommand}" Key="D" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding ActiveItem.DebugCommand}" Key="T" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding ActiveItem.EditCommand}" Key="I" Modifiers="Ctrl" />
        <!--<KeyBinding Command="{Binding Path=NotImplementedCommand}" Key="X" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding Path=NotImplementedCommand}" Key="C" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding Path=NotImplementedCommand}" Key="V" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding Path=NotImplementedCommand}" Key="Z" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding Path=NotImplementedCommand}" Key="Y" Modifiers="Ctrl" />-->
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="B" Modifiers="Ctrl" />
        <KeyBinding Command="{Binding NewResourceCommand}" CommandParameter="Unknown" Key="N" Modifiers="Ctrl" />

        <KeyBinding Command="{Binding NotImplementedCommand}" Key="B" Modifiers="Ctrl+Shift" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="F4" Modifiers="Ctrl+Shift" />
<!--        <KeyBinding Command="{Binding Path=DeployAllCommand}" Key="D" Modifiers="Ctrl+Shift" />-->
        <KeyBinding Command="{Binding NewResourceCommand}"  CommandParameter="DatabaseService" Key="D" Modifiers="Ctrl+Shift" />
        <KeyBinding Command="{Binding NewResourceCommand}"  CommandParameter="ResourceService" Key="P" Modifiers="Ctrl+Shift" />
        <KeyBinding Command="{Binding NotImplementedCommand}" Key="B" Modifiers="Ctrl+Shift" />

    </ribbon:RibbonWindow.InputBindings>
	<Grid x:Name="LayoutRoot" Opacity="0" RenderTransformOrigin="0.5,0.5" cal:Bind.Model="{Binding .}">        
		<Grid.RenderTransform>
			<TransformGroup>
				<ScaleTransform ScaleX="0.8" ScaleY="0.8"/>
				<SkewTransform/>
				<RotateTransform/>
				<TranslateTransform/>
			</TransformGroup>
		</Grid.RenderTransform>
		<DockPanel AutomationProperties.AutomationId="MainWindow">

			<ItemsControl x:Name="WorkflowActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Save"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Save-32.png"
					Command="{Binding ActiveItem.SaveCommand}" />
				<!--<ribbon:RibbonButton Label="Deploy" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/database_save.png" Command="{Binding Path=DeployCommand}" />-->
				<ribbon:RibbonButton Label="View in Browser"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/ExecuteViewInBrowser-32.png"
					Command="{Binding ActiveItem.ViewInBrowserCommand}" />
                <ribbon:RibbonButton Label="{Binding ActiveItem.DebugOutputViewModel.DebugText}"
                                     LargeImageSource = "{Binding ActiveItem.DebugOutputViewModel.DebugImage}"
					                 Command="{Binding ActiveItem.DebugCommand}" />
				<ribbon:RibbonButton Label="Edit Properties"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/PropertyEdit-32.png"
					Command="{Binding ActiveItem.EditCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="ServiceActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Save"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Save-32.png"
					Command="{Binding ActiveItem.SaveCommand}" />
				<ribbon:RibbonButton Label="View in Browser"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/ExecuteViewInBrowser-32.png"
					Command="{Binding ActiveItem.ViewInBrowserCommand}" />
                <ribbon:RibbonButton Label="{Binding ActiveItem.DebugOutputViewModel.DebugText}"
                                     LargeImageSource = "{Binding ActiveItem.DebugOutputViewModel.DebugImage}"
					Command="{Binding ActiveItem.DebugCommand}" />
				<ribbon:RibbonButton Label="Edit Properties"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/PropertyEdit-32.png"
					Command="{Binding ActiveItem.EditCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="WebpageActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="View in Browser"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/ExecuteViewInBrowser-32.png"
					Command="{Binding ActiveItem.ViewInBrowserCommand}" />
				<ribbon:RibbonButton Label="Edit Properties"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/PropertyEdit-32.png"
					Command="{Binding ActiveItem.EditCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="WebsiteActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="View in Browser"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/ExecuteViewInBrowser-32.png"
					Command="{Binding ActiveItem.ViewInBrowserCommand}" />
				<ribbon:RibbonButton Label="Edit Properties"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/PropertyEdit-32.png"
					Command="{Binding ActiveItem.EditCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="WorkpartActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Save"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Save-32.png"
					Command="{Binding ActiveItem.SaveCommand}" />
				<ribbon:RibbonButton Label="View in Browser"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/ExecuteViewInBrowser-32.png"
					Command="{Binding ActiveItem.ViewInBrowserCommand}"
					AutomationProperties.AutomationId="BrowserCommand" />
				<ribbon:RibbonButton Label="{Binding ActiveItem.DebugOutputViewModel.DebugText}"
                                     LargeImageSource = "{Binding ActiveItem.DebugOutputViewModel.DebugImage}"
					Command="{Binding ActiveItem.DebugCommand}" />
				<ribbon:RibbonButton Label="Edit Properties"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/PropertyEdit-32.png"
					Command="{Binding ActiveItem.EditCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="WizardActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Save"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Save-32.png"
					Command="{Binding ActiveItem.SaveCommand}" />
				<ribbon:RibbonButton Label="View in Browser"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/ExecuteViewInBrowser-32.png"
					Command="{Binding ActiveItem.ViewInBrowserCommand}" />
				<ribbon:RibbonButton Label="Edit Properties"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/PropertyEdit-32.png"
					Command="{Binding ActiveItem.EditCommand}" />
			</ItemsControl>

			<!--<ItemsControl x:Name="SourceManagerActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="New Source"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Test Source"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Delete Source"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Edit Source"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="ConnectionManagerActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="New Connection"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Test Connections"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Connection Connection"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Save Connection"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Edit Connection"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="ScheduleManagerActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="New Schedule"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Delete Schedule"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Save Schedule"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Edit Schedule"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>-->

			<ItemsControl x:Name="PeopleAndSecurityManagerActions" Visibility="Collapsed"/>

			<ItemsControl x:Name="BackupManagerActions" Visibility="Collapsed"/>

			<ItemsControl x:Name="ReportsViewerActions" Visibility="Collapsed"/>

			<ItemsControl x:Name="WebserverManagerActions" Visibility="Collapsed"/>

			<ItemsControl x:Name="SettingsActions" Visibility="Collapsed"/>

			<!--<ItemsControl x:Name="BuyOrBrowseActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Buy"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="SellActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Upload"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="AppStoreAccountActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Save"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="InstalledActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Refresh"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="CommunityAccountActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Save"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="CommunitySearchActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Search"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>

			<ItemsControl x:Name="HelpSearchActions" Visibility="Collapsed">
				<ribbon:RibbonButton Label="Search"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
				<ribbon:RibbonButton Label="Advanced"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png"
					Command="{Binding NotImplementedCommand}" />
			</ItemsControl>-->

			<ItemsControl x:Name="CommunityActions" Visibility="Collapsed"/>

			<ItemsControl x:Name="DeployActions" Visibility="Collapsed"/>

			<ribbon:Ribbon x:Name="ribbon" ShowQuickAccessToolBarOnTop="True" IsCollapsed="False" DockPanel.Dock="Top">
				<ribbon:Ribbon.Resources>
					<Style TargetType="{x:Type ribbon:RibbonButton}">
						<Setter Property="ContextMenu" Value="{x:Null}"/>
					</Style>
					<Style TargetType="{x:Type ribbon:RibbonGroup}">
						<Setter Property="ContextMenu" Value="{x:Null}"/>
					</Style>
					<Style TargetType="{x:Type ribbon:RibbonTab}">
						<Setter Property="ContextMenu" Value="{x:Null}"/>
					</Style>
					<Style TargetType="{x:Type ribbon:Ribbon}">
						<Setter Property="ContextMenu" Value="{x:Null}"/>
					</Style>
                    <!--<Style x:Key="RibbonGroupActions">
						<Style.Triggers>
							<DataTrigger
								Binding="{Binding ItemsSource, RelativeSource={RelativeSource Self}}"
								Value="{x:Null}">
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Unknown">
								<Setter Property="ItemsControl.ItemsSource" Value="{x:Null}" />
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Workflow">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=WorkflowActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Service">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=ServiceActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Webpage">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=WebpageActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Website">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=WebsiteActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Webpart">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=WorkpartActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Wizard">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=WizardActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="SourceManager">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=SourceManagerActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="ConnectionManager">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=ConnectionManagerActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="ScheduleManager">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=ScheduleManagerActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="PeopleAndSecurityManager">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=PeopleAndSecurityManagerActions}" />
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="BackupManager">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=BackupManagerActions}" />
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="ReportsViewer">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=ReportsViewerActions}" />
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="WebserverManager">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=WebserverManagerActions}" />
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Settings">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=SettingsActions}" />
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="BuyOrBrowse">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=BuyOrBrowseActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Sell">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=SellActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="AppstoreAccount">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=AppStoreAccountActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Installed">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=InstalledActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="CommunityAccount">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=CommunityAccountActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="CommunitySearch">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=CommunitySearchActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="HelpSearch">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=HelpSearchActions}" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="Community">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=CommunityActions}" />
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding DataContext.ActiveItem.WorkSurfaceViewModel.WorkSurfaceContext, ElementName=ribbon}"
								Value="DeployResources">
								<Setter Property="ItemsControl.ItemsSource"
									Value="{Binding Items, ElementName=DeployActions}" />
								<Setter Property="UIElement.Visibility" Value="Collapsed" />
							</DataTrigger>
						</Style.Triggers>
					</Style>-->

				</ribbon:Ribbon.Resources>

				<ribbon:Ribbon.ApplicationMenu>
                    <dev2RibbonApplicationMenu:Dev2RibbonApplicationMenu ShowAuxilaryPanel="False">                        
                        <ribbon:RibbonSeparator Height="5"></ribbon:RibbonSeparator>
                        <ribbon:RibbonApplicationMenuItem Header="New Workflow" ToolTip="(Ctrl+W)" 
                                                          Command="{Binding NewResourceCommand}" 
                                                          CommandParameter="Workflow" 
                                                          ImageSource="pack://application:,,,/Warewolf Studio;component/Images/Workflow-32.png"
                                                          AutomationProperties.AutomationId="UI_RibbonApplicationMenu_New" />                        
                        <ribbon:RibbonSeparator Height="5"></ribbon:RibbonSeparator>
                        <ribbon:RibbonApplicationMenuItem Header="New Database Procedure Service" ToolTip="(Ctrl+Shift+D)" x:Name="NewDatabaseProcedure"  
                                                              Command="{Binding NewResourceCommand}" 
                                                              CommandParameter="DatabaseService" 
                                                              ImageSource="pack://application:,,,/Warewolf Studio;component/Images/DatabaseService-32.png"
                                                              x:FieldModifier="public"/>
                        <ribbon:RibbonApplicationMenuItem Header="New Plugin Service" ToolTip="(Ctrl+Shift+P)"  
                                                          Command="{Binding NewResourceCommand}"
                                                          ImageSource="pack://application:,,,/Warewolf Studio;component/Images/PluginService-32.png"
									                      CommandParameter="ResourceService"/>
                        <ribbon:RibbonApplicationMenuItem Header="New Web Service"
                                                          ToolTip="(Ctrl+Shift+W)"
                                                          Command="{Binding NewResourceCommand}"
                                                          ImageSource="pack://application:,,,/Warewolf Studio;component/Images/WebService-32.png"
                                                          CommandParameter="WebService" />
                        
                        <ribbon:RibbonSeparator Height="5"></ribbon:RibbonSeparator>
                        
                        <!--<ribbon:RibbonApplicationMenuItem Header="New Remote Warewolf Source" 
                                Command="{Binding NewResourceCommand}" 
                                                              ImageSource="pack://application:,,,/Warewolf Studio;component/Images/RemoteWarewolf-32.png"
									CommandParameter="Server"/>
                        <ribbon:RibbonApplicationMenuItem Header="New Database Source" 
                                                              Command="{Binding NewResourceCommand}"
                                                              ImageSource="pack://application:,,,/Warewolf Studio;component/Images/DatabaseSource-32.png"
									CommandParameter="DbSource"/>
                        <ribbon:RibbonApplicationMenuItem Header="New Plugin Source" 
                                                          Command="{Binding NewResourceCommand}"
                                                          ImageSource="pack://application:,,,/Warewolf Studio;component/Images/PluginSource-32.png"
									                      CommandParameter="ResourceSource"/>
                        <ribbon:RibbonApplicationMenuItem Header="New Email Source" 
                                                          Command="{Binding NewResourceCommand}"
                                                          ImageSource="pack://application:,,,/Warewolf Studio;component/Images/EmailSource-32.png"
									                      CommandParameter="EmailSource"/>
                        <ribbon:RibbonApplicationMenuItem Header="New Web Source"
                                                          Command="{Binding NewResourceCommand}"
                                                          ImageSource="pack://application:,,,/Warewolf Studio;component/Images/WebSource-32.png"
                                                          CommandParameter="WebSource" />-->
                        
                        <!--<ribbon:RibbonSeparator Height="5"></ribbon:RibbonSeparator>-->      
                        
                        <ribbon:RibbonApplicationMenuItem Header="Reset Layout" 
                                                          Command="{Binding ResetLayoutCommand}" 
                                                          CommandParameter="{Binding ElementName=dockManager}"
                                                          ImageSource="pack://application:,,,/Warewolf Studio;component/Images/ToolReplace-32.png"/>
                        <ribbon:RibbonApplicationMenuItem Header="Exit" ToolTip="(Alt+F4)" 
                                                          Command="{Binding ExitCommand}" 
                                                          ImageSource="pack://application:,,,/Warewolf Studio;component/Images/Close_Box_Red.png"/>
                        
                    </dev2RibbonApplicationMenu:Dev2RibbonApplicationMenu>
				</ribbon:Ribbon.ApplicationMenu>

				<ribbon:RibbonTab Header="Home" AutomationProperties.AutomationId="Home">                    

                    <ribbon:RibbonGroup Header="Actions">
                        <ribbon:RibbonButton Label="Save"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Save-32.png"
					Command="{Binding ActiveItem.SaveCommand}" />
                        <!--<ribbon:RibbonButton Label="Deploy" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/database_save.png" Command="{Binding Path=DeployCommand}" />-->
                        <ribbon:RibbonButton Label="View in Browser"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/ExecuteViewInBrowser-32.png"
					Command="{Binding ActiveItem.ViewInBrowserCommand}" />
                        <ribbon:RibbonButton Label="{Binding ActiveItem.DebugOutputViewModel.DebugText}"
                                     LargeImageSource = "{Binding ActiveItem.DebugOutputViewModel.DebugImage}"
					                 Command="{Binding ActiveItem.DebugCommand}" />
                        <ribbon:RibbonButton Label="Edit Properties"
					LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/PropertyEdit-32.png"
					Command="{Binding ActiveItem.EditCommand}" />
					</ribbon:RibbonGroup>

                    <ribbon:RibbonGroup x:Name="HomeCreateNewResource" Header="New Service">
						<ribbon:RibbonButton Label="Workflow"
							                 LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Workflow-32.png"
							                 Command="{Binding NewResourceCommand}" 
                                             CommandParameter="Workflow"
                                             AutomationProperties.AutomationId="UI_RibbonHomeTabWorkflowBtn_AutoID"
                                             ToolTip="Ctrl+W" />
                        <!--<ribbon:RibbonButton Label="Remote Workflow"
							                 LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/RemoteWarewolf-32.png"
                                             ToolTip="Ctrl+Shift+R" />-->
						<ribbon:RibbonButton Label="Database Service"
						                     LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/DatabaseService-32.png"
							                 Command="{Binding NewResourceCommand}"
							                 CommandParameter="DatabaseService"
                                             AutomationProperties.AutomationId="UI_RibbonHomeTabDBServiceBtn_AutoID"
                                             ToolTip="Ctrl+Shift+D" />
						<ribbon:RibbonButton Label="Plugin Service"
							                 LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/PluginService-32.png"
							                 Command="{Binding NewResourceCommand}"
							                 CommandParameter="ResourceService"
                                             AutomationProperties.AutomationId="UI_RibbonHomeTabPluginServiceBtn_AutoID"
                                             ToolTip="Ctrl+Shift+P" />
                        <ribbon:RibbonButton Label="Web Service"
                                             LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/WebService-32.png"
                                             Command="{Binding NewResourceCommand}"
                                             CommandParameter="WebService"
                                             AutomationProperties.AutomationId="UI_RibbonHomeTabWebServiceBtn_AutoID"
                                             ToolTip="Ctrl+Shift+W" />
                        <!--
                        TODO PBI 8291
                        <ribbon:RibbonButton Label="Webpage" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/User.png" Command="{Binding Path=NewResourceCommand}" CommandParameter="HumanInterfaceProcess" />
                        <ribbon:RibbonButton Label="Website" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/webpagebuilder.png" Command="{Binding Path=NewResourceCommand}" CommandParameter="Website" />-->
						<!--
                        TODO PBI 8142
                        <ribbon:RibbonButton Label="?Webpart?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>-->
						<!--
                        TODO PBI 8142
                        <ribbon:RibbonButton Label="?Wizard?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>-->
					</ribbon:RibbonGroup>
                    
                    <!--<ribbon:RibbonGroup x:Name="HomeCreateNewSource" Header="Add Source">
                        <ribbon:RibbonButton Label="Remote Warewolf"
							                LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Workflow-32.png"
							                Command="{Binding NewResourceCommand}" 
                                            CommandParameter="Server"
							                AutomationProperties.AutomationId="UI_RibbonHomeTabRemoteWorkflowBtn_AutoID" />
                        <ribbon:RibbonButton Label="Database"
							                LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/DatabaseService-32.png"
							                Command="{Binding NewResourceCommand}"
							                CommandParameter="DbSource" 
                                            AutomationProperties.AutomationId="UI_RibbonHomeTabDBSourceBtn_AutoID" />
                        <ribbon:RibbonButton Label="Plugin"
							                LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/DatabaseService-32.png"
							                Command="{Binding NewResourceCommand}"
							                CommandParameter="ResourceSource" 
                                            AutomationProperties.AutomationId="UI_RibbonHomeTabPluginSourceBtn_AutoID" />
                        <ribbon:RibbonButton Label="Email"
							                LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/DatabaseService-32.png"
							                Command="{Binding NewResourceCommand}"
							                CommandParameter="EmailSource" 
                                            AutomationProperties.AutomationId="UI_RibbonHomeTabEmailSourceBtn_AutoID" />
                        <ribbon:RibbonButton Label="Web"
                                             LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/DatabaseService-32.png"
                                             Command="{Binding NewResourceCommand}"
                                             CommandParameter="WebSource"
                                             AutomationProperties.AutomationId="UI_RibbonHomeTabWebSourceBtn_AutoID" />-->
                        <!--
                        TODO PBI 8291
                        <ribbon:RibbonButton Label="Webpage" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/User.png" Command="{Binding Path=NewResourceCommand}" CommandParameter="HumanInterfaceProcess" />
                        <ribbon:RibbonButton Label="Website" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/webpagebuilder.png" Command="{Binding Path=NewResourceCommand}" CommandParameter="Website" />-->
						<!--
                        TODO PBI 8142
                        <ribbon:RibbonButton Label="?Webpart?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>-->
						<!--
                        TODO PBI 8142
                        <ribbon:RibbonButton Label="?Wizard?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>-->
					<!--</ribbon:RibbonGroup>-->

					<ribbon:RibbonGroup Header="Actions">
						<ribbon:RibbonButton Label="Deploy"
							LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Deploy-32.png"
							Command="{Binding DeployCommand}" />
					</ribbon:RibbonGroup>

                    <ribbon:RibbonGroup Header="Destinations">
                        <ribbon:RibbonButton Label="Reports Viewer" 
							                 LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/ReportsManager-32.png"  
                                             Command="{Binding ReportsCommand}"/>

                        <ribbon:RibbonButton Label="Settings"
							                 LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Settings-32.png"  
                                             Command="{Binding SettingsCommand}" />
                        <!--<ribbon:RibbonButton Label="Source Manager" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Web32.png" Command="{Binding Path=NewResourceCommand}" CommandParameter="Source" />
                        <ribbon:RibbonButton Label="?Connection Manager?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                        <ribbon:RibbonButton Label="?Schedule Manager?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                        <ribbon:RibbonButton Label="?People &amp; Security Manager?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                        <ribbon:RibbonButton Label="?Backup Manager?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                       <ribbon:RibbonButton Label="?Webserver Manager?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>-->
                    </ribbon:RibbonGroup>
                    
                    <ribbon:RibbonGroup Header="Help" HorizontalAlignment="Right" HorizontalContentAlignment="Right">
                        <!--
                        TODO 4438, 4435, 4436, 4437
                        <ribbon:RibbonButton Label="?Community?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>-->
                        <ribbon:RibbonButton Label="Feedback"
							LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/HelpFeedback-32.png"
							Command="{Binding StartFeedbackCommand}" />
                        <ribbon:RibbonButton Label="Community"
                                             LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/HelpCommunity-32.png"
                                             Command="{Binding ShowCommunityPageCommand}" />
                        <ribbon:RibbonButton Label="Shortcut Keys"
							LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/HelpShortcutKeys-32.png"
							Command="{Binding AddStudioShortcutsPageCommand}" />
                        <ribbon:RibbonButton Label="About"
							LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/HelpAbout-32.png"                                              
							Command="{Binding DisplayAboutDialogueCommand}" />
                    </ribbon:RibbonGroup>
                                        
                    <ribbon:RibbonGroup Header="">                        
                        <ribbon:RibbonButton Command="{Binding ShowStartPageCommand}" Width="70" Height="70" PressedBorderBrush="Transparent" FocusedBorderBrush="Transparent" MouseOverBorderBrush="Transparent">
                            <ribbon:RibbonButton.Background>
                                <ImageBrush ImageSource="pack://application:,,,/Warewolf Studio;component/Images/WarewolfInsignia.png"/>
                            </ribbon:RibbonButton.Background>
                            <ribbon:RibbonButton.FocusedBackground>
                                <ImageBrush ImageSource="pack://application:,,,/Warewolf Studio;component/Images/WarewolfInsignia.png"/>
                            </ribbon:RibbonButton.FocusedBackground>
                            <ribbon:RibbonButton.PressedBackground>
                                <ImageBrush ImageSource="pack://application:,,,/Warewolf Studio;component/Images/WarewolfInsignia.png"/>
                            </ribbon:RibbonButton.PressedBackground>
                            <ribbon:RibbonButton.MouseOverBackground>
                                <ImageBrush ImageSource="pack://application:,,,/Warewolf Studio;component/Images/WarewolfInsignia.png" Opacity="0.5"/>
                            </ribbon:RibbonButton.MouseOverBackground>                                  
                        </ribbon:RibbonButton>                        
                    </ribbon:RibbonGroup>

                </ribbon:RibbonTab>

				<!--
                TODO PBI 2253
                <ribbon:RibbonTab Header="App Store">
                    <ribbon:RibbonGroup Header="Actions" Style="{StaticResource RibbonGroupActions}">
                        <ribbon:RibbonGroup.ItemTemplate>
                            <DataTemplate>
                                <ribbon:RibbonButton Label="{Binding Label}" LargeImageSource="{Binding LargeImageSource}" Command="{Binding Command}" />
                            </DataTemplate>
                        </ribbon:RibbonGroup.ItemTemplate>
                    </ribbon:RibbonGroup>

                    <ribbon:RibbonGroup Header="Destinations">
                        <ribbon:RibbonButton Label="?Buy or Browse?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                        <ribbon:RibbonButton Label="?Sell?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                        <ribbon:RibbonButton Label="?Account?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                        <ribbon:RibbonButton Label="?Installed?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                    </ribbon:RibbonGroup>
                </ribbon:RibbonTab>-->

				<!--
                TODO PBIs 4438, 4435, 4436, 4437
                <ribbon:RibbonTab Header="Community">
                    <ribbon:RibbonGroup Header="Actions" Style="{StaticResource RibbonGroupActions}">
                        <ribbon:RibbonGroup.ItemTemplate>
                            <DataTemplate>
                                <ribbon:RibbonButton Label="{Binding Label}" LargeImageSource="{Binding LargeImageSource}" Command="{Binding Command}" />
                            </DataTemplate>
                        </ribbon:RibbonGroup.ItemTemplate>
                    </ribbon:RibbonGroup>

                    <ribbon:RibbonGroup Header="Destinations">
                        <ribbon:RibbonButton Label="?Account?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                        <ribbon:RibbonButton Label="?Search?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>
                    </ribbon:RibbonGroup>
                </ribbon:RibbonTab>-->

                <!--<ribbon:RibbonTab Header="Help" AutomationProperties.AutomationId="Help">
					<ribbon:RibbonGroup Header="Actions" Style="{StaticResource RibbonGroupActions}">
						<ribbon:RibbonGroup.ItemTemplate>
							<DataTemplate>
								<ribbon:RibbonButton Label="{Binding Label}"
									LargeImageSource="{Binding LargeImageSource}"
									Command="{Binding Command}" />
							</DataTemplate>
						</ribbon:RibbonGroup.ItemTemplate>
					</ribbon:RibbonGroup>

					<ribbon:RibbonGroup Header="Destinations">-->
						<!--
                        TODO 4438, 4435, 4436, 4437
                        <ribbon:RibbonButton Label="?Community?" LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/Help.png" Command="{Binding Path=NotImplementedCommand}"/>-->
                <!--<ribbon:RibbonButton Label="Feedback"
							LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/HelpFeedback-32.png"
							Command="{Binding StartFeedbackCommand}" />
						<ribbon:RibbonButton Label="Shortcut Keys"
							LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/HelpShortcutKeys-32.png"
							Command="{Binding AddStudioShortcutsPageCommand}" />
						<ribbon:RibbonButton Label="About"
							LargeImageSource="pack://application:,,,/Warewolf Studio;component/Images/HelpAbout-32.png"                                              
							Command="{Binding DisplayAboutDialogueCommand}" />
					</ribbon:RibbonGroup>
				</ribbon:RibbonTab>-->
			</ribbon:Ribbon>

			<igDock:XamDockManager x:Name="dockManager" AutomationProperties.AutomationId="UI_DocManager_AutoID">
				<i:Interaction.Behaviors>
					<docking:XamlDockManagerLayoutPersistenceBehavior
						UserInterfaceLayoutRepository="{Binding UserInterfaceLayoutRepository}"
						LayoutDataPropertyName="MainViewDockingData" LayoutName="Default" />
				</i:Interaction.Behaviors>

				<igDock:XamDockManager.Panes>
					<igDock:SplitPane x:Name="DockBottom" igDock:XamDockManager.InitialLocation="DockedBottom" Height="200">
						<igDock:TabGroupPane>
                            <igDock:ContentPane x:Name="OutputPane" Header="Output" AllowInDocumentHost="False"
								IsPinned="False" AllowClose="False">
                                <customControls:CachingContentHost cal:View.Model="{Binding ActiveItem.DebugOutputViewModel}"/>
							</igDock:ContentPane>
							<!-- TODO PBI 8291 
                            <igDock:ContentPane x:Name="Properties" Header="Properties" AllowClose="False" AllowInDocumentHost="False" IsPinned="True" />
                            <igDock:ContentPane x:Name="Mapping" Header="Mapping" AllowClose="False" AllowInDocumentHost="False" IsPinned="True" />-->

						</igDock:TabGroupPane>
					</igDock:SplitPane>

					<igDock:SplitPane x:Name="DockLeft" igDock:XamDockManager.InitialLocation="DockedLeft" Width="300">
						<igDock:TabGroupPane>
							<igDock:ContentPane x:Name="Explorer" Header="Explorer" AllowClose="False"
								AllowInDocumentHost="False" IsPinned="False"
								AutomationProperties.AutomationId="UI_ExplorerPane_AutoID">
								<explorer:ExplorerView DataContext="{Binding ExplorerViewModel}"/>
							</igDock:ContentPane>
							<igDock:ContentPane x:Name="Toolbox" Header="Toolbox" AllowClose="False"
								AllowInDocumentHost="False" IsPinned="False"
								AutomationProperties.AutomationId="UI_ToolboxPane_AutoID">
								<bdsviews:ToolboxUserControl/>
							</igDock:ContentPane>
							<igDock:ContentPane x:Name="Variables" 
								Header="Variables" AllowClose="False"
								AllowInDocumentHost="False" IsPinned="False">
								<dataList:DataListView DataContext="{Binding ActiveItem.DataListViewModel}"/>
							</igDock:ContentPane>
						</igDock:TabGroupPane>
					</igDock:SplitPane>
				</igDock:XamDockManager.Panes>
				<igDock:DocumentContentHost x:Name="DocumentHost"
					AutomationProperties.AutomationId="UI_DocumentHost_AutoID">
					<igDock:SplitPane x:Name="DockCentre" AutomationProperties.AutomationId="UI_SplitPane_AutoID">
						<igDock:TabGroupPane x:Name="TabManager"
							AutomationProperties.AutomationId="UI_TabManager_AutoID">
							<i:Interaction.Behaviors>
								<local:TabGroupPaneBindingBehavior
									DocumentHost="{Binding ElementName=DocumentHost}"
									SelectedItem="{Binding DataContext.ActiveItem, ElementName=DocumentHost, Mode=TwoWay}"/>
							</i:Interaction.Behaviors>
							<igExtensions:ContentPaneFactory.PaneFactory>
								<!-- Binds to the Items property of the DataContext. -->
								<igExtensions:ContentPaneFactory 
									ItemsSource="{Binding Items}"
									TabHeaderPath="WorkSurfaceViewModel"
									ContentPath="WorkSurfaceViewModel">
									<igExtensions:ContentPaneFactory.ContainerStyle>                                    
										<Style TargetType="{x:Type igDock:ContentPane}">                                            
											<Setter Property="TabHeaderTemplate">
												<Setter.Value>
													<DataTemplate>
														<StackPanel Orientation="Horizontal">
															<Image Source="{Binding IconPath}" AutomationProperties.AutomationId="{Binding DisplayName}" Margin="4,4,4,2"/>
															<TextBlock Text="{Binding DisplayName}" VerticalAlignment="Center"/>                                                            
														</StackPanel>
													</DataTemplate>
												</Setter.Value>
											</Setter>
											<Setter Property="ContentTemplate">
												<Setter.Value>
													<DataTemplate>
														<ContentControl cal:View.Model="{Binding .}"/>
													</DataTemplate>
												</Setter.Value>
											</Setter>
											<Setter Property="AllowDockingBottom" Value="False"/>
											<Setter Property="AllowDockingLeft" Value="False"/>
											<Setter Property="AllowDockingRight" Value="False"/>
											<Setter Property="AllowDockingTop" Value="False"/>
											<Setter Property="AutomationProperties.AutomationId" Value="{Binding DisplayName}"/>
											<Setter Property="SaveInLayout" Value="false"/>
										</Style>
									</igExtensions:ContentPaneFactory.ContainerStyle>
								</igExtensions:ContentPaneFactory>
							</igExtensions:ContentPaneFactory.PaneFactory>
						</igDock:TabGroupPane>
					</igDock:SplitPane>
				</igDock:DocumentContentHost>

				<!-- TODO PBI 8291 
                            <igDock:ContentPane x:Name="Properties" Header="Properties" AllowClose="False" AllowInDocumentHost="False" IsPinned="False" />
                            <igDock:ContentPane x:Name="Mapping" Header="Mapping" AllowClose="False" AllowInDocumentHost="False" IsPinned="False" />-->

			</igDock:XamDockManager>
		</DockPanel>

		<!--Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"-->
		<Button BorderThickness="2" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,23,5,0" Height="22"
			Focusable="False"
			Visibility="{Binding FeedBackRecorder.IsRecorderAvailable, Converter={StaticResource BoolToVisConverter}}"
			Style="{StaticResource ContentLinkButton}" Command="{Binding StartStopRecordedFeedbackCommand}"
			AutomationProperties.AutomationId="MainView_StartStopFeedbackRecording">
			<Grid>
				<Border Background="Red" Style="{StaticResource FlashingFrameworkElement}"
					HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
					Visibility="{Binding FeedbackInvoker.CurrentAction, Converter={StaticResource RecorderFeedbackActionTypeToVisibilityConverterPositive}}" />
				<StackPanel Orientation="Horizontal">
					<TextBlock Text="Start recording feedback" VerticalAlignment="Center" Margin="5,0,5,0"
						Visibility="{Binding FeedbackInvoker.CurrentAction, Converter={StaticResource RecorderFeedbackActionTypeToVisibilityConverterNegative}}" />
					<TextBlock Text="Stop recording feedback" VerticalAlignment="Center" Margin="5,0,5,0"
						Visibility="{Binding FeedbackInvoker.CurrentAction, Converter={StaticResource RecorderFeedbackActionTypeToVisibilityConverterPositive}}"
						Style="{StaticResource FlashingFrameworkElement}" />
                    <Image Source="/Images/HelpRecordFeedback-32.png" Height="16" Width="16" VerticalAlignment="Center"
						Margin="0,0,5,0"
						Visibility="{Binding FeedbackInvoker.CurrentAction, Converter={StaticResource RecorderFeedbackActionTypeToVisibilityConverterNegative}}" />
                    <Image Source="/Images/HelpRecordFeedback-32.png" Height="16" Width="16" VerticalAlignment="Center"
						Margin="0,0,5,0"
						Visibility="{Binding FeedbackInvoker.CurrentAction, Converter={StaticResource RecorderFeedbackActionTypeToVisibilityConverterPositive}}"
						Style="{StaticResource FlashingFrameworkElement}" />
				</StackPanel>
			</Grid>
		</Button>
	</Grid>
</ribbon:RibbonWindow>