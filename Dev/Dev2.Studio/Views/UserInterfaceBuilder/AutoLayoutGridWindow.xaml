<UserControl x:Class="Dev2.Studio.Views.UserInterfaceBuilder.AutoLayoutGridWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:autolayout="clr-namespace:Unlimited.Framework"
        xmlns:ap="clr-namespace:Dev2.Studio.AppResources.AttachedProperties"
        xmlns:uf="clr-namespace:Unlimited.Applications.BusinessDesignStudio"                    
        xmlns:cs="clr-namespace:CefSharp.Wpf;assembly=CefSharp.Wpf"
    xmlns:framework="clr-namespace:Unlimited.Framework;assembly=Dev2.Studio.Core"
    ap:UIElementTitleProperty.Title="MainWindow" >
    <!--<UserControl.DataContext>
        <autolayout:LayoutGridViewModel />
    </UserControl.DataContext>-->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="80" />
            <RowDefinition  />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.Column="0" Grid.Row="1" PreviewKeyDown="Border_PreviewKeyDown">
            <ItemsControl ItemsSource="{Binding LayoutObjects}" x:Name="layoutGrid"  >
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <autolayout:AutoLayoutGrid Rows="{Binding Rows}" Columns="{Binding Columns}" CellHeight="80" CellWidth="150"  />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemContainerStyle>
                    <Style TargetType="ContentPresenter">
                        <Setter Property="Grid.Row" Value="{Binding GridRow}" />
                        <Setter Property="Grid.Column" Value="{Binding GridColumn}" />
                        <Setter Property="Grid.ColumnSpan" Value="{Binding GridColumnSpan}" />
                        <Setter Property="Grid.RowSpan" Value="{Binding GridRowSpan}" />
                    </Style>
                </ItemsControl.ItemContainerStyle>
                <ItemsControl.ItemTemplate>
                    <DataTemplate DataType="framework:LayoutObjectViewModel">
                        <Border AllowDrop="True"  Background="LightGray" Margin="1,1,1,1" PreviewMouseDown="AutoLayoutGrid_PreviewMouseDown" PreviewDrop="Border_PreviewDrop"  PreviewMouseMove="AutoLayoutGrid_PreviewMouseMove" >
                            <uf:LayoutObjectView  />
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>            
        <GridSplitter Grid.RowSpan="2" Grid.Column="1" Width="3" HorizontalAlignment="Left" BorderThickness="1,0,1,0" BorderBrush="Black"/>

        <cs:WebView x:Name="webBrowser" Grid.Column="1" Grid.RowSpan="2" Margin="4,0,0,0">
            <cs:WebView.ContextMenu>
                <ContextMenu />
            </cs:WebView.ContextMenu>
        </cs:WebView>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="25"  />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="70" />
                <ColumnDefinition />
                <ColumnDefinition Width="50" />
            </Grid.ColumnDefinitions>
            <Label Content="Website:" />
            <ComboBox Grid.Column="1" ItemsSource="{Binding Websites}" DisplayMemberPath="ResourceName" SelectedValue="{Binding SelectedWebsite}" IsSynchronizedWithCurrentItem="True">
            </ComboBox>
            <Button Command="{Binding OpenWebsiteCommand}" CommandParameter="{Binding SelectedWebsite.ResourceName}" Content="..." Grid.Column="2" Margin="5,1,1,1" AutomationProperties.AutomationId="UI_LayoutGridOpenWebsiteBtn_AutoID" />
            <Label Content="Meta Tags:" Grid.Row="1" />
            <TextBox AcceptsReturn="True" AcceptsTab="True" Text="{Binding MetaTags}" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" BorderThickness="1,1,1,1" BorderBrush="Beige" AutomationProperties.AutomationId="UI_WebpageEditorMetaTagsTxt_AutoID" />
        </Grid>
        
    </Grid>
</UserControl>


